apiVersion: v1

secrets:
- field: requiredSecrets.intersystemsContainerRegistrySecret
  type: image-pull-secret
  subType: containers.intersystems.com
  reason: These are the credentials to authenticate with containers.intersystems.com

endpoints:
- title: Web Endpoint Admin
  group: Developer
  description: Open the Endpoint Admin tab in the management portal
  type: browsing
  url: http://{externalService.host}:{externalService.port}/docs#/default/root__get
  contexts: 
  - manage
  visibility: external
  presentation: link
  externalService: management

externalServicesDeclarations:
 - name: admin
   type: loadBalancer
   hostnameChartField: admin.hostname
   loadBalancerPortChartField: admin.port
   enabled: false
   enabledChartField: admin.enabled
   label: Web Admin Portal over Load Balancer
   description: Port to access the management portal over a Load Balancer

# compute:
#   computeSpecs:
#   - name: database
#     label: Database Node Specification
#     categoryFilter: CO,MO,GP
#     minCPU: 2
#     minRAM: 4
#     nodeSelectorField: compute.database.nodeTypeSelector
#     cpuRequestField: compute.database.cpu
#     memoryRequestField: compute.database.memory
#     help: Specifies how many cores and how much memory your database server nodes will have 
# compute:
#   computeSpecs:
#   - name: connector
#     label: Python Connector Node Specification
#     categoryFilter: CO,MO,GP
#     minCPU: 2
#     minRAM: 4
#     nodeSelectorField: compute.connector.nodeTypeSelector
#     cpuRequestField: compute.connector.cpu
#     memoryRequestField: compute.connector.memory
#     help: Specifies how many cores and how much memory your connector nodes will have 